#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include  "hacking.h"


int main(void){
    int i;
    int sockfd;
    int recv_lenght;
    u_char buffer[9000];

    if((sockfd = socket(PF_INET, SOCK_RAW, IPPROTO_TCP)) == -1)
        fatal("in socket");

    for(i = 0; i < 3; i++){
        recv_lenght = recv(sockfd, buffer, 8000, 0);
        printf("Got a %d byte packet\n", recv_lenght);
        dump(buffer, recv_lenght);
    }
}