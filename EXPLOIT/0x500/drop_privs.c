#include <stdio.h>
#include <unistd.h>
#include <string.h>
#include <stdlib.h>

void lowered_privilege_function(unsigned char *ptr){
    char buffer[50];

 /* Drop privilege to games user */
    if(seteuid(5) != 0){
        fprintf(stderr, "Failed to drop privilege\n");
        exit(1);
    }
    strncpy(buffer, (const char*)ptr, sizeof(buffer) - 1);
    buffer[sizeof(buffer) -1] = '\0';
}

int main(int argc, char *argv[]){
    if(argc >= 2){
        lowered_privilege_function((unsigned char *)argv[1]);
    }
    return 0;
}

    
 